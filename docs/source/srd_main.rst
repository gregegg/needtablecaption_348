===============================
Software Requirements Document
===============================

.. raw:: latex

    \listoftables
    \listoffigures


Defining a need
-------------------------------

This is where I define the need:

.. user:: Consistent Units
   :id: USER_001

   User must ensure a consistent unit system is used for all inputs


Creating Figure and Table
----------------------------------------------------

Here is a figure.  Notice how it is included in the List of Figures, when the PDF is rendered.

.. needflow:: My First Figure
    :filter: id in ['USER_001']

Look, a normal table generated by Sphinx!  It is rendered below, and included in the list of Tables.

.. list-table:: My Table from Sphinx 'list-table' directive
   :widths: 25 25 50
   :header-rows: 1

   * - Heading row 1, column 1
     - Heading row 1, column 2
     - Heading row 1, column 3
   * - Row 1, column 1
     -
     - Row 1, column 3
   * - Row 2, column 1
     - Row 2, column 2
     - Row 2, column 3

Here is a table generated by sphinxcontrib-needs.



.. needtable:: My Table from sphinxneeds-contrib 'needtable' directive
    :filter: id in ['USER_001']

Issue with Table and Suggested Fix:
----------------------------------------------------

The approach in commit 8568810dcb6a39fd6643f341c429d22a9809d0ff does not properly render this table.  See SRD.tex and its PDF rendering here:  https://www.overleaf.com/read/bbjxhkdgyvbt

An alternate latex approach (emulating the standard Sphinx rendering) that works as desired (i.e., table is rendered and shows up in List of Tables) is shown in SRD_mod.tex, available at the link above.  This approach uses the following, starting at line 175 of SRD_mod.tex:

.. code-block::

    \begin{figure}[H]
    \centering
    \sphinxcapstartof{table}
    \sphinxthecaptionisattop
    \sphinxcaption{My Table from sphinxneeds\sphinxhyphen{}contrib \textquotesingle{}needtable\textquotesingle{} directive}\label{\detokenize{srd_main:needtable-srd_main-0}}
    \sphinxaftertopcaption

    \begin{savenotes}\sphinxattablestart
    \centering
    \begin{tabulary}{\linewidth}[t]{|T|T|T|T|T|T|}

    ...

    \end{tabulary}
    \par
    \sphinxattableend\end{savenotes}
    \end{figure}


